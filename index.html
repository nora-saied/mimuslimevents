
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Michigan Muslim Events</title>
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #filters { margin-bottom: 20px; }
    #calendar { max-width: 900px; margin: auto; }
  </style>
</head>
<body>
  <h1>Michigan Muslim Events</h1>
  <div id="filters">
    <label for="cityFilter">Filter by City:</label>
    <select id="cityFilter">
      <option value="">All Cities</option>
    </select>
  </div>

  <div id="calendar"></div>

  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const calendarEl = document.getElementById('calendar');
      const cityFilter = document.getElementById('cityFilter');

      const events = [
        {
          title: 'Eid Bazaar',
          start: '2025-05-10T17:00:00',
          end: '2025-05-10T20:00:00',
          city: 'Dearborn'
        },
        {
          title: 'Friday Halaqa',
          start: '2025-05-17T19:00:00',
          end: '2025-05-17T21:00:00',
          city: 'Detroit'
        },
        {
          title: 'Youth Sports',
          start: '2025-05-24T14:00:00',
          end: '2025-05-24T16:00:00',
          city: 'Ann Arbor'
        },
        {
          title: 'Sisters Tea Night',
          start: '2025-05-31T18:00:00',
          end: '2025-05-31T20:00:00',
          city: 'Warren'
        }
      ];

      // Populate city dropdown
      const uniqueCities = [...new Set(events.map(e => e.city))].sort();
      uniqueCities.forEach(city => {
        const option = document.createElement('option');
        option.value = city;
        option.textContent = city;
        cityFilter.appendChild(option);
      });

      const createEventObjects = (filter = '') =>
        events
          .filter(e => !filter || e.city === filter)
          .map(e => ({
            title: `${e.title} [${e.city}]`,
            start: e.start,
            end: e.end
          }));

      let calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        events: createEventObjects()
      });

      calendar.render();

      cityFilter.addEventListener('change', function () {
        calendar.removeAllEvents();
        calendar.addEventSource(createEventObjects(this.value));
      });
    });
  </script>
</body>
</html>
